<!DOCTYPE html>
<html>
<Body>
<canvas id="Homework4" width="800" height="800" style="background: #000000;"></canvas>
<script>
    let canvas = document.getElementById("Homework4");
    let context = canvas.getContext("2d");
    let data = context.getImageData(0, 0, 800, 800);
    let R = 300;
    let color = 0;

    function draw() {
        if (R < 400 && color === 0) R++;
        if (R === 400) {
            color = 255;
        }
        if (R > 0 && color === 255) R--;
        if (R === 0) {
            color = 0;
        }

        let done = false;
        let x0 = 400, y0 = 400, x = 400, y = 400;
        let F = 1 - 2 * R;

        while (((y0 - y) / R) < Math.sin(40)) {
            done = false;
            if ((x === x0) && (y === y0)) {
                x = x0 - R;
                done = true;
            }
            if ((!done) && (F < 0)) {
                F = F + 4 * (y0 - y) + 6;
                y--;
                done = true;
            }
            if ((!done) && (F > 0)) {
                F = F + 4 * (x - x0) + 4 * (y0 - y) + 10;
                y--;
                x++;
                done = true;
            }

            data.data[800 * 4 * y + 4 * (x + 1)] = color;
            data.data[800 * 4 * y + 4 * (x + 1) + 1] = color;
            data.data[800 * 4 * y + 4 * (x + 1) + 2] = color;
            data.data[800 * 4 * y + 4 * (x + 1) + 3] = 255;
        }

        x = 400;
        y = 400;
        F = 1 - 2 * R
        while (((y - y0) / R) < Math.sin(40)) {
            done = false;
            if ((x === x0) && (y === y0)) {
                x = x0 - R;
                done = true;
            }
            if ((!done) && (F < 0)) {
                F = F + 4 * (y - y0) + 6;
                y++;
                done = true;
            }
            if ((!done) && (F > 0)) {
                F = F + 4 * (x - x0) + 4 * (y - y0) + 10;
                y++;
                x++;
                done = true;
            }

            data.data[800 * 4 * y + 4 * (x + 1)] = color;
            data.data[800 * 4 * y + 4 * (x + 1) + 1] = color;
            data.data[800 * 4 * y + 4 * (x + 1) + 2] = color;
            data.data[800 * 4 * y + 4 * (x + 1) + 3] = 255;
        }

        x = 400;
        y = 400;
        F = 1 - 2 * R
        while (((y - y0) / R) < Math.sin(40)) {
            done = false;
            if ((x === x0) && (y === y0)) {
                x = x0 + R;
                done = true;
            }
            if ((!done) && (F < 0)) {
                F = F + 4 * (y - y0) + 6;
                y++;
                done = true;
            }
            if ((!done) && (F > 0)) {
                F = F + 4 * (x0 - x) + 4 * (y - y0) + 10;
                y++;
                x--;
                done = true;
            }

            data.data[800 * 4 * y + 4 * (x + 1)] = color;
            data.data[800 * 4 * y + 4 * (x + 1) + 1] = color;
            data.data[800 * 4 * y + 4 * (x + 1) + 2] = color;
            data.data[800 * 4 * y + 4 * (x + 1) + 3] = 255;
        }

        x = 400;
        y = 400;
        F = 1 - 2 * R
        while (((y0 - y) / R) < Math.sin(40)) {
            done = false;
            if ((x === x0) && (y === y0)) {
                x = x0 + R;
                done = true;
            }
            if ((!done) && (F < 0)) {
                F = F + 4 * (y0 - y) + 6;
                y--;
                done = true;
            }
            if ((!done) && (F > 0)) {
                F = F + 4 * (x0 - x) + 4 * (y0 - y) + 10;
                y--;
                x--;
                done = true;
            }

            data.data[800 * 4 * y + 4 * (x + 1)] = color;
            data.data[800 * 4 * y + 4 * (x + 1) + 1] = color;
            data.data[800 * 4 * y + 4 * (x + 1) + 2] = color;
            data.data[800 * 4 * y + 4 * (x + 1) + 3] = 255;
        }

        x = 400;
        y = 400;
        F = 1 - 2 * R
        while (((x - x0) / R) < Math.sin(40)) {
            done = false;
            if ((x === x0) && (y === y0)) {
                y = y0 - R;
                done = true;
            }
            if ((!done) && (F < 0)) {
                F = F + 4 * (x - x0) + 6;
                x++;
                done = true;
            }
            if ((!done) && (F > 0)) {
                F = F + 4 * (x - x0) + 4 * (y - y0) + 10;
                y++;
                x++;
                done = true;
            }

            data.data[800 * 4 * y + 4 * (x + 1)] = color;
            data.data[800 * 4 * y + 4 * (x + 1) + 1] = color;
            data.data[800 * 4 * y + 4 * (x + 1) + 2] = color;
            data.data[800 * 4 * y + 4 * (x + 1) + 3] = 255;
        }

        x = 400;
        y = 400;
        F = 1 - 2 * R
        while (((x0 - x) / R) < Math.sin(40)) {
            done = false;
            if ((x === x0) && (y === y0)) {
                y = y0 - R;
                done = true;
            }
            if ((!done) && (F < 0)) {
                F = F + 4 * (x0 - x) + 6;
                x--;
                done = true;
            }
            if ((!done) && (F > 0)) {
                F = F + 4 * (x0 - x) + 4 * (y - y0) + 10;
                y++;
                x--;
                done = true;
            }
            data.data[800 * 4 * y + 4 * (x + 1)] = color;
            data.data[800 * 4 * y + 4 * (x + 1) + 1] = color;
            data.data[800 * 4 * y + 4 * (x + 1) + 2] = color;
            data.data[800 * 4 * y + 4 * (x + 1) + 3] = 255;
        }

        x = 400;
        y = 400;
        F = 1 - 2 * R
        while (((x0 - x) / R) < Math.sin(40)) {
            done = false;
            if ((x === x0) && (y === y0)) {
                y = y0 + R;
                done = true;
            }
            if ((!done) && (F < 0)) {
                F = F + 4 * (x0 - x) + 6;
                x--;
                done = true;
            }
            if ((!done) && (F > 0)) {
                F = F + 4 * (x0 - x) + 4 * (y0 - y) + 10;
                y--;
                x--;
                done = true;
            }

            data.data[800 * 4 * y + 4 * (x + 1)] = color;
            data.data[800 * 4 * y + 4 * (x + 1) + 1] = color;
            data.data[800 * 4 * y + 4 * (x + 1) + 2] = color;
            data.data[800 * 4 * y + 4 * (x + 1) + 3] = 255;
        }

        x = 400;
        y = 400;
        F = 1 - 2 * R
        while (((x - x0) / R) < Math.sin(40)) {
            done = false;
            if ((x === x0) && (y === y0)) {
                y = y0 + R;
                done = true;
            }
            if ((!done) && (F < 0)) {
                F = F + 4 * (x - x0) + 6;
                x++;
                done = true;
            }
            if ((!done) && (F > 0)) {
                F = F + 4 * (x - x0) + 4 * (y0 - y) + 10;
                y--;
                x++;
                done = true;
            }

            data.data[800 * 4 * y + 4 * (x + 1)] = color;
            data.data[800 * 4 * y + 4 * (x + 1) + 1] = color;
            data.data[800 * 4 * y + 4 * (x + 1) + 2] = color;
            data.data[800 * 4 * y + 4 * (x + 1) + 3] = 255;
        }


        context.putImageData(data, 0, 0);
    }

    setInterval(draw, 10);
</script>
</Body>
</html>